<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Notes App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Work Timer Sidebar -->
        <aside class="work-sidebar" id="workSidebar" style="display: none;">
            <div class="work-sidebar-content">
                <h3 class="work-sidebar-title">Fokussierte Aufgaben</h3>

                <div class="work-time-display">
                    <div class="work-time-label">Gesamtzeit:</div>
                    <div class="work-time-total" id="workTimeTotal">0m</div>
                </div>

                <div class="work-timer" id="workTimer" style="display: none;">
                    <div class="timer-display" id="timerDisplay">00:00:00</div>
                    <div class="end-time-display" id="endTimeDisplay" style="display: none;">
                        <span class="end-time-label">Fertig um:</span>
                        <span class="end-time-value" id="endTimeValue">--:--</span>
                    </div>
                    <div class="timer-controls">
                        <button class="timer-btn pause-btn" id="pauseBtn">‖ Pause</button>
                        <button class="timer-btn stop-btn" id="stopBtn">□ Stop</button>
                    </div>
                </div>

                <button class="start-work-btn" id="startWorkBtn">▸ Start Work</button>

                <div class="session-summary" id="sessionSummary" style="display: none;">
                    <div class="session-summary-title">Session beendet!</div>
                    <div class="session-summary-content">
                        <div class="session-stat">
                            <span class="session-stat-label">Geplant:</span>
                            <span class="session-stat-value" id="sessionPlanned">0m</span>
                        </div>
                        <div class="session-stat">
                            <span class="session-stat-label">Tatsächlich:</span>
                            <span class="session-stat-value" id="sessionActual">0m</span>
                        </div>
                        <div class="session-difference" id="sessionDifference">
                            <!-- Will show "+5m schneller" or "-5m länger" -->
                        </div>
                    </div>
                    <button class="session-summary-close" id="sessionSummaryClose">OK</button>
                </div>
            </div>
        </aside>

        <div class="main-content">
        <!-- Header -->
        <header class="app-header">
            <div class="header-top">
                <div class="header-left">
                    <div class="header-left-container">
                        <button class="hamburger-menu-btn" id="hamburgerMenuBtn" title="Menü">
                            <span class="hamburger-icon">☰</span>
                        </button>
                        <div class="time-stats" id="timeStats"></div>
                    </div>
                    <!-- Hamburger Dropdown Menu -->
                    <div class="hamburger-dropdown" id="hamburgerDropdown" style="display: none;">
                        <div class="dropdown-section">
                            <h4 class="dropdown-title">Backup</h4>
                            <button class="dropdown-btn" id="selectBackupFolder" title="Backup-Ordner auswählen">
                                ⊞ Ordner wählen
                            </button>
                            <button class="dropdown-btn" id="manualBackup" title="Backup jetzt erstellen" disabled>
                                ⊡ Backup
                            </button>
                            <button class="dropdown-btn" id="importBackup" title="Backup wiederherstellen">
                                ⊟ Import
                            </button>
                            <div class="backup-status" id="backupStatus">Kein Ordner gewählt</div>
                        </div>
                    </div>
                </div>
                <div class="header-center">
                </div>
                <div class="header-right">
                    <button class="view-switch-btn" id="viewSwitchBtn" title="Ansicht wechseln (Board ↔ Kanban)">
                        <span class="view-icon">⊞</span>
                        <span class="view-label">Kanban</span>
                    </button>
                    <span class="note-count">0 notes</span>
                </div>
            </div>
            <div class="header-filters">
                <div class="filter-section">
                    <span class="filter-label">Kategorie:</span>
                    <button class="filter-btn" data-filter="category-k" id="filterK">KSWIL</button>
                    <button class="filter-btn" data-filter="category-h" id="filterH">HSLU</button>
                    <button class="filter-btn" data-filter="category-p" id="filterP">Privat</button>
                    <button class="filter-btn" data-filter="category-u" id="filterU">Unterricht</button>
                </div>
                <div class="filter-section">
                    <span class="filter-label">Klasse:</span>
                    <button class="filter-btn" data-filter="class-2a" id="filterClass2a">2a</button>
                    <button class="filter-btn" data-filter="class-2b" id="filterClass2b">2b</button>
                    <button class="filter-btn" data-filter="class-2c" id="filterClass2c">2c</button>
                    <button class="filter-btn" data-filter="class-3a" id="filterClass3a">3a</button>
                    <button class="filter-btn" data-filter="class-3b" id="filterClass3b">3b</button>
                    <button class="filter-btn" data-filter="class-5" id="filterClass5">5</button>
                </div>
                <div class="filter-section">
                    <span class="filter-label">Zeit:</span>
                    <button class="filter-btn" data-filter="time-0-15" id="filterTime15">≤15m</button>
                    <button class="filter-btn" data-filter="time-16-30" id="filterTime30">16-30m</button>
                    <button class="filter-btn" data-filter="time-31-60" id="filterTime60">31-60m</button>
                    <button class="filter-btn" data-filter="time-60+" id="filterTime60Plus">60m+</button>
                </div>
                <div class="filter-section">
                    <span class="filter-label">Priorität:</span>
                    <button class="filter-btn" data-filter="priority-1" id="filterPriority1">!</button>
                    <button class="filter-btn" data-filter="priority-2" id="filterPriority2">!!</button>
                    <button class="filter-btn" data-filter="priority-3" id="filterPriority3">!!!</button>
                </div>
                <div class="filter-section">
                    <span class="filter-label">Tag:</span>
                    <button class="filter-btn" data-filter="day-unassigned" id="filterDayUnassigned">Keine</button>
                    <button class="filter-btn" data-filter="day-monday" id="filterDayMon">Mo</button>
                    <button class="filter-btn" data-filter="day-tuesday" id="filterDayTue">Di</button>
                    <button class="filter-btn" data-filter="day-wednesday" id="filterDayWed">Mi</button>
                    <button class="filter-btn" data-filter="day-thursday" id="filterDayThu">Do</button>
                    <button class="filter-btn" data-filter="day-friday" id="filterDayFri">Fr</button>
                    <button class="filter-btn" data-filter="day-saturday" id="filterDaySat">Sa</button>
                    <button class="filter-btn" data-filter="day-sunday" id="filterDaySun">So</button>
                </div>
                <button class="filter-clear-btn" id="clearFilters" style="display: none;">× Filter zurücksetzen</button>
            </div>
        </header>

        <!-- Notes Canvas (Board View) -->
        <main class="notes-canvas" id="notesCanvas">
            <div class="welcome-message" id="welcomeMessage">
                <h2>Willkommen bei Simple Notes</h2>
                <p>Geben Sie unten eine Notiz ein, um zu beginnen...</p>
            </div>
        </main>

        <!-- Kanban View -->
        <main class="kanban-view" id="kanbanView" style="display: none;">
            <div class="kanban-column" data-day="unassigned">
                <div class="kanban-column-header">
                    <div class="kanban-header-top">
                        <h3>Nicht zugewiesen</h3>
                        <div class="kanban-header-actions">
                            <span class="kanban-count">0</span>
                            <button class="kanban-collapse-btn" id="collapseUnassignedBtn" title="Spalte zuklappen">
                                <span class="collapse-icon">‹</span>
                            </button>
                        </div>
                    </div>
                    <div class="kanban-time-total">0m</div>
                </div>
                <div class="kanban-column-body" data-day="unassigned"></div>
            </div>
            <div class="kanban-column" data-day="monday">
                <div class="kanban-column-header">
                    <div class="kanban-header-top">
                        <h3>Montag</h3>
                        <span class="kanban-count">0</span>
                    </div>
                    <div class="kanban-time-total">0m</div>
                </div>
                <div class="kanban-column-body" data-day="monday"></div>
            </div>
            <div class="kanban-column" data-day="tuesday">
                <div class="kanban-column-header">
                    <div class="kanban-header-top">
                        <h3>Dienstag</h3>
                        <span class="kanban-count">0</span>
                    </div>
                    <div class="kanban-time-total">0m</div>
                </div>
                <div class="kanban-column-body" data-day="tuesday"></div>
            </div>
            <div class="kanban-column" data-day="wednesday">
                <div class="kanban-column-header">
                    <div class="kanban-header-top">
                        <h3>Mittwoch</h3>
                        <span class="kanban-count">0</span>
                    </div>
                    <div class="kanban-time-total">0m</div>
                </div>
                <div class="kanban-column-body" data-day="wednesday"></div>
            </div>
            <div class="kanban-column" data-day="thursday">
                <div class="kanban-column-header">
                    <div class="kanban-header-top">
                        <h3>Donnerstag</h3>
                        <span class="kanban-count">0</span>
                    </div>
                    <div class="kanban-time-total">0m</div>
                </div>
                <div class="kanban-column-body" data-day="thursday"></div>
            </div>
            <div class="kanban-column" data-day="friday">
                <div class="kanban-column-header">
                    <div class="kanban-header-top">
                        <h3>Freitag</h3>
                        <span class="kanban-count">0</span>
                    </div>
                    <div class="kanban-time-total">0m</div>
                </div>
                <div class="kanban-column-body" data-day="friday"></div>
            </div>
            <div class="kanban-column" data-day="saturday">
                <div class="kanban-column-header">
                    <div class="kanban-header-top">
                        <h3>Samstag</h3>
                        <span class="kanban-count">0</span>
                    </div>
                    <div class="kanban-time-total">0m</div>
                </div>
                <div class="kanban-column-body" data-day="saturday"></div>
            </div>
            <div class="kanban-column" data-day="sunday">
                <div class="kanban-column-header">
                    <div class="kanban-header-top">
                        <h3>Sonntag</h3>
                        <span class="kanban-count">0</span>
                    </div>
                    <div class="kanban-time-total">0m</div>
                </div>
                <div class="kanban-column-body" data-day="sunday"></div>
            </div>
        </main>

        <!-- Plan View -->
        <main class="plan-view" id="planView" style="display: none;">
            <!-- Saved Notes Sidebar -->
            <aside class="saved-notes-sidebar" id="savedNotesSidebar" style="display: none;">
                <div class="saved-notes-header">
                    <div class="saved-notes-header-top">
                        <h3>Gespeicherte Notizen</h3>
                        <div class="saved-notes-actions">
                            <span class="saved-notes-count" id="savedNotesCount">0/5</span>
                            <button class="saved-notes-collapse-btn" id="collapseSavedNotesBtn" title="Sidebar zuklappen">
                                <span class="collapse-icon">‹</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="saved-notes-list" id="savedNotesList">
                    <!-- Saved notes will be inserted here -->
                </div>
            </aside>

            <div class="plan-main-content">
                <div class="plan-editor-container">
                    <div
                        class="plan-editor"
                        id="planEditor"
                        contenteditable="true"
                        spellcheck="false"
                        data-placeholder="Beginnen Sie mit der Planung...

Shortcuts:
• Cmd+B → Fett
• Cmd+I → Kursiv
• Cmd+Shift+8 → Bullet-Liste
• Cmd+Shift+C → Checkbox
• Alt+X → Checkbox umschalten

Tipp: Schreiben Sie (Task-Name 30m --k) um automatisch eine Aufgabe zu erstellen."
                    ></div>
                    <div class="plan-actions">
                        <button class="plan-action-btn plan-new-btn" id="planNewBtn" title="Neue Notiz erstellen">
                            <span class="action-icon">+</span>
                            <span class="action-label">Neue Notiz</span>
                        </button>
                        <button class="plan-action-btn plan-save-btn" id="planSaveBtn" title="Notiz speichern">
                            <span class="action-icon">⊡</span>
                            <span class="action-label">Speichern</span>
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Input Area -->
        <div class="input-container">
            <div class="input-wrapper">
                <span class="input-prompt">&gt;</span>
                <input
                    type="text"
                    id="noteInput"
                    class="note-input"
                    placeholder="Neue Notiz oder Todo eingeben..."
                    autofocus
                />
            </div>
            <div class="input-bottom">
                <div class="input-hint">
                    <span>Enter zum Speichern • ESC zum Löschen • Cmd/Ctrl+Z zum Rückgängig machen</span>
                </div>
                <div class="completed-counter" id="completedCounter">0 heute erledigt</div>
            </div>
        </div>
        </div>
    </div>

    <!-- Stack Modal -->
    <div class="stack-modal" id="stackModal" style="display: none;">
        <div class="stack-modal-overlay"></div>
        <div class="stack-modal-content">
            <div class="stack-modal-header">
                <div class="stack-modal-title-section">
                    <h3>Stack bearbeiten</h3>
                    <input
                        type="text"
                        id="stackTitleInput"
                        class="stack-title-input"
                        placeholder="Stack-Titel (optional)..."
                    />
                    <div class="stack-type-toggle">
                        <button class="stack-type-btn" id="stackTypeBtn" data-type="group">
                            <span class="stack-type-icon">+</span>
                            <span class="stack-type-label">Gruppe</span>
                        </button>
                        <span class="stack-type-hint">Klick zum Wechseln: Gruppe ↔ Sequenz</span>
                    </div>
                </div>
                <button class="stack-modal-close" id="stackModalClose">&times;</button>
            </div>
            <div class="stack-modal-body" id="stackModalBody">
                <!-- Cards will be inserted here -->
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
